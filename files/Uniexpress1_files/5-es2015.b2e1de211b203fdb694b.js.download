(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{"+XyI":function(n,t,e){"use strict";e.d(t,"a",(function(){return c}));var a=e("8Y7J"),i=e("EY2u"),l=e("HDdC"),o=e("PqYM"),s=e("eIep"),r=e("JIr8"),d=e("IzEk");class c{constructor(n,t,e){this.platform=n,this.internalApiService=t,this.linksManager=e,this.adLoaded=new a.m,this.adFailed=new a.m,this.adClosed=new a.m}ngOnInit(){this.loadInterstitial()}loadInterstitial(){this.interstitialAdObservable=this.internalApiService.getAdsCampainRandomInterstitial(this.item.idCamp).pipe(Object(s.a)(n=>this.loadInterstitialImage(n)),Object(r.a)(n=>(this.adFailed.emit(!0),i.a)))}loadInterstitialImage(n){return new l.a(t=>{const e=new Image,a=e=>{t.next(n),t.complete(),this.adLoaded.emit(!0),Object(o.a)(15e3).pipe(Object(d.a)(1)).subscribe(()=>this.adClosed.emit())},i=n=>{t.error(),this.adFailed.emit(!0)};return e.addEventListener("load",a),e.addEventListener("error",i),e.src=n.imageUrl,()=>{e.removeEventListener("load",a),e.removeEventListener("error",i)}})}handleAdLink(n){const t="internalUrl"in n;t&&n.linkUrl&&this.internalApiService.pingStatsApi(n.linkUrl);const e=t?n.internalUrl:n.linkUrl;e&&this.linksManager.handleLink(e).subscribe(),this.closeAd()}closeAd(){this.adClosed.emit()}}},"41k0":function(n,t,e){"use strict";e.d(t,"a",(function(){return a}));var a=[".ad-banner[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:flex-start;transition:transform .3s}img[_ngcontent-%COMP%]{cursor:pointer;max-height:90px}.close-icon[_ngcontent-%COMP%]{display:none}.fixed[_nghost-%COMP%]   .ad-container[_ngcontent-%COMP%], .fixed   [_nghost-%COMP%]   .ad-container[_ngcontent-%COMP%]{max-height:90px;height:calc(100vw * (90 / 728) + 0px)}.fixed[_nghost-%COMP%]   .ad-banner[_ngcontent-%COMP%], .fixed   [_nghost-%COMP%]   .ad-banner[_ngcontent-%COMP%]{position:fixed;bottom:0;width:100%;background-color:rgba(0,0,0,.8);z-index:1040}@media only screen and (orientation:portrait) and (max-width:1024px),only screen and (orientation:landscape) and (max-width:1279px){.fixed[_nghost-%COMP%]   .ad-banner[_ngcontent-%COMP%], .fixed   [_nghost-%COMP%]   .ad-banner[_ngcontent-%COMP%]{left:0}}.swipe-always-open.fixed[_nghost-%COMP%]   .ad-banner[_ngcontent-%COMP%], .swipe-always-open.fixed   [_nghost-%COMP%]   .ad-banner[_ngcontent-%COMP%]{width:calc(100% - 320px)!important;left:320px!important}.little-swipe-always-open.small.fixed[_nghost-%COMP%]   .ad-banner[_ngcontent-%COMP%], .little-swipe-always-open.small.fixed   [_nghost-%COMP%]   .ad-banner[_ngcontent-%COMP%]{width:calc(100% - 70px)!important;left:70px!important}.little-swipe-always-open.medium.fixed[_nghost-%COMP%]   .ad-banner[_ngcontent-%COMP%], .little-swipe-always-open.medium.fixed   [_nghost-%COMP%]   .ad-banner[_ngcontent-%COMP%]{width:calc(100% - 93px)!important;left:93px!important}.little-swipe-always-open.large.fixed[_nghost-%COMP%]   .ad-banner[_ngcontent-%COMP%], .little-swipe-always-open.large.fixed   [_nghost-%COMP%]   .ad-banner[_ngcontent-%COMP%]{width:calc(100% - 110px)!important;left:110px!important}.fixed.top[_nghost-%COMP%]   .ad-banner[_ngcontent-%COMP%], .fixed.top   [_nghost-%COMP%]   .ad-banner[_ngcontent-%COMP%]{bottom:unset}.floating[_nghost-%COMP%]   .ad-banner[_ngcontent-%COMP%], .floating   [_nghost-%COMP%]   .ad-banner[_ngcontent-%COMP%]{position:absolute;left:0;right:0;z-index:1040;background-color:rgba(0,0,0,.8)}.in-content[_nghost-%COMP%]   .ad-container[_ngcontent-%COMP%], .in-content   [_nghost-%COMP%]   .ad-container[_ngcontent-%COMP%]{margin:40px 0}@media only screen and (orientation:portrait) and (min-width:1025px),only screen and (orientation:landscape) and (min-width:1280px){img[_ngcontent-%COMP%]{max-width:728px}.fixed[_nghost-%COMP%]   .close-icon[_ngcontent-%COMP%], .fixed   [_nghost-%COMP%]   .close-icon[_ngcontent-%COMP%], .floating[_nghost-%COMP%]   .close-icon[_ngcontent-%COMP%], .floating   [_nghost-%COMP%]   .close-icon[_ngcontent-%COMP%]{position:absolute;top:8px;right:8px;color:#fff;display:flex;justify-content:center;align-content:center;height:20px;width:20px;border:1px solid #fff;border-radius:50%;background-color:rgba(0,0,0,.8)}.fixed[_nghost-%COMP%]   .close-icon[_ngcontent-%COMP%]   [gbIcon][_ngcontent-%COMP%], .fixed   [_nghost-%COMP%]   .close-icon[_ngcontent-%COMP%]   [gbIcon][_ngcontent-%COMP%], .floating[_nghost-%COMP%]   .close-icon[_ngcontent-%COMP%]   [gbIcon][_ngcontent-%COMP%], .floating   [_nghost-%COMP%]   .close-icon[_ngcontent-%COMP%]   [gbIcon][_ngcontent-%COMP%]{display:flex;align-items:center;font-weight:bolder}.with-classic-toolbar[_nghost-%COMP%]   .ad-banner[_ngcontent-%COMP%], .with-classic-toolbar   [_nghost-%COMP%]   .ad-banner[_ngcontent-%COMP%]{bottom:64px}}@media only screen and (orientation:portrait) and (max-width:1024px),only screen and (orientation:landscape) and (max-width:1279px){.with-classic-toolbar[_nghost-%COMP%]   .ad-banner[_ngcontent-%COMP%], .with-classic-toolbar   [_nghost-%COMP%]   .ad-banner[_ngcontent-%COMP%]{bottom:56px}}.translate[_nghost-%COMP%]   .ad-banner[_ngcontent-%COMP%], .translate   [_nghost-%COMP%]   .ad-banner[_ngcontent-%COMP%]{transform:translateY(56px)}@media only screen and (orientation:portrait) and (min-width:1025px),only screen and (orientation:landscape) and (min-width:1280px){.with-toolbar[_nghost-%COMP%]   .ad-banner[_ngcontent-%COMP%], .with-toolbar   [_nghost-%COMP%]   .ad-banner[_ngcontent-%COMP%]{bottom:64px}}@media only screen and (orientation:portrait) and (max-width:1024px),only screen and (orientation:landscape) and (max-width:1279px){.with-toolbar[_nghost-%COMP%]   .ad-banner[_ngcontent-%COMP%], .with-toolbar   [_nghost-%COMP%]   .ad-banner[_ngcontent-%COMP%]{bottom:48px}}.with-pager[_nghost-%COMP%]   .ad-banner[_ngcontent-%COMP%], .with-pager   [_nghost-%COMP%]   .ad-banner[_ngcontent-%COMP%]{bottom:22px}.with-big-pager[_nghost-%COMP%]   .ad-banner[_ngcontent-%COMP%], .with-big-pager   [_nghost-%COMP%]   .ad-banner[_ngcontent-%COMP%]{bottom:48px}.with-tabbar[_nghost-%COMP%]:not(.floating):not(.top)   .ad-banner[_ngcontent-%COMP%], .with-tabbar:not(.floating):not(.top)   [_nghost-%COMP%]   .ad-banner[_ngcontent-%COMP%]{bottom:66px}@media only screen and (orientation:portrait) and (max-width:599px),only screen and (orientation:landscape) and (max-width:959px){.with-tabbar[_nghost-%COMP%]:not(.floating):not(.top)   .ad-banner[_ngcontent-%COMP%], .with-tabbar:not(.floating):not(.top)   [_nghost-%COMP%]   .ad-banner[_ngcontent-%COMP%]{bottom:calc(66px + env(safe-area-inset-bottom))}.fixed.with-toolbar[_nghost-%COMP%]:not(.top)   .ad-banner[_ngcontent-%COMP%], .fixed.with-toolbar:not(.top)   [_nghost-%COMP%]   .ad-banner[_ngcontent-%COMP%]{bottom:calc(48px + env(safe-area-inset-bottom))}.with-pager[_nghost-%COMP%]   .ad-banner[_ngcontent-%COMP%], .with-pager   [_nghost-%COMP%]   .ad-banner[_ngcontent-%COMP%]{bottom:0}.fixed[_nghost-%COMP%]:not(.with-tabbar):not(.with-toolbar):not(.top)   .ad-banner[_ngcontent-%COMP%], .fixed:not(.with-tabbar):not(.with-toolbar):not(.top)   [_nghost-%COMP%]   .ad-banner[_ngcontent-%COMP%]{padding-bottom:env(safe-area-inset-bottom)}}"]},"4f9x":function(n,t,e){"use strict";e.d(t,"a",(function(){return a}));var a=[".interstitial[_ngcontent-%COMP%]{position:fixed;top:0;right:0;bottom:0;left:0;display:flex;justify-content:center;align-items:center;background:rgba(0,0,0,.8);z-index:2000}.ad-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;position:relative;max-width:600px}.close-icon[_ngcontent-%COMP%]{position:absolute;top:8px;right:8px;color:#fff;display:flex;justify-content:center;align-content:center;height:40px;width:40px;border:2px solid #fff;border-radius:50%;background-color:rgba(0,0,0,.6);z-index:1;cursor:pointer}.close-icon[_ngcontent-%COMP%]   [gbIcon][_ngcontent-%COMP%]{display:flex;align-items:center;font-weight:bolder}@media only screen and (orientation:portrait) and (max-width:599px),only screen and (orientation:landscape) and (max-width:959px){.ad-container[_ngcontent-%COMP%]{max-width:80%}.close-icon[_ngcontent-%COMP%]{height:24px;width:24px}}"]},"87fI":function(n,t,e){"use strict";e.d(t,"a",(function(){return o}));var a=e("cUpR"),i=e("8Y7J"),l=e("SVse");let o=(()=>{class n{constructor(n){this.doc=n,this.dom=Object(a.z)()}loadDfpSdk(n,t){this.loadAsyncScript("dfp-sdk","//securepubads.g.doubleclick.net/tag/js/gpt.js",n,t)}loadAdsenseSdk(n,t){this.loadAsyncScript("adsense-sdk","//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js",n,t)}loadAsyncScript(n,t,e,a){if(this.dom.querySelector(this.doc,"#"+n))e();else{const i=this.dom.createScriptTag("id",n);this.dom.setAttribute(i,"src",t),this.dom.setAttribute(i,"async",""),this.dom.onAndCancel(i,"error",a),this.dom.onAndCancel(i,"load",e),this.dom.appendChild(this.doc.head,i)}}}return n.ngInjectableDef=i.Rb({factory:function(){return new n(i.Sb(l.d))},token:n,providedIn:"root"}),n})()},ANIO:function(n,t,e){"use strict";var a=e("4f9x"),i=e("8Y7J"),l=e("SVse"),o=e("tyD9"),s=e("b/2F"),r=e("6ojV"),d=e("eVm4"),c=e("omK1");e.d(t,"a",(function(){return h}));var u=i.pb({encapsulation:0,styles:[a.a,[".interstitial[_ngcontent-%COMP%]:not(.show){display:none}.close-icon[_ngcontent-%COMP%]{top:12px;right:12px}"]],data:{}});function g(n){return i.Nb(0,[(n()(),i.rb(0,0,null,null,6,"div",[["class","interstitial"]],[[2,"show",null]],null,null,null,null)),i.Fb(131072,l.b,[i.h]),(n()(),i.rb(2,0,null,null,2,"div",[["class","close-icon"]],null,null,null,null,null)),(n()(),i.rb(3,0,null,null,1,"span",[["gbIcon",""],["iconUrl","close"]],null,[[null,"click"]],(function(n,t,e){var a=!0;return"click"===t&&(a=!1!==n.component.closeAd()&&a),a}),null,null)),i.qb(4,671744,null,0,o.a,[i.k,i.D,s.a,r.a,l.d],{iconUrl:[0,"iconUrl"],size:[1,"size"]},null),(n()(),i.rb(5,0,null,null,1,"div",[["class","ad-container"]],null,null,null,null,null)),(n()(),i.rb(6,0,null,null,0,"div",[],[[8,"id",0]],null,null,null,null))],(function(n,t){n(t,4,0,"close",t.component.platform.isMobileSize()?12:16)}),(function(n,t){var e=t.component;n(t,0,0,i.Mb(t,0,0,i.Db(t,1).transform(e.adLoaded))),n(t,6,0,e.bannerId)}))}function p(n){return i.Nb(0,[(n()(),i.rb(0,0,null,null,1,"ng-component",[],null,null,null,g,u)),i.qb(1,4374528,null,0,d.a,[s.a,c.a],null,null)],null,null)}var h=i.nb("ng-component",d.a,p,{item:"item"},{adLoaded:"adLoaded",adFailed:"adFailed",adClosed:"adClosed"},[])},"J+fH":function(n,t,e){"use strict";e.d(t,"a",(function(){return l}));var a=e("8Y7J"),i=e("87fI");let l=(()=>{class n{constructor(n){this.sdkLoader=n,this.onError=new a.m}loadAdsenseSdk(n,t){this.sdkLoader.loadAdsenseSdk(n,t)}push(){try{adsbygoogle.push({})}catch(n){this.onError.emit()}}}return n.ngInjectableDef=a.Rb({factory:function(){return new n(a.Sb(i.a))},token:n,providedIn:"root"}),n})()},JFz8:function(n,t,e){"use strict";e.d(t,"a",(function(){return m}));var a=e("41k0"),i=e("8Y7J"),l=e("tyD9"),o=e("b/2F"),s=e("6ojV"),r=e("SVse"),d=e("nred"),c=e("Q7qD"),u=e("XJsk"),g=i.pb({encapsulation:0,styles:[a.a],data:{}});function p(n){return i.Nb(0,[(n()(),i.rb(0,0,null,null,5,"div",[["class","ad-container"]],null,null,null,null,null)),(n()(),i.rb(1,0,null,null,4,"div",[["class","ad-banner"]],null,null,null,null,null)),(n()(),i.rb(2,0,null,null,2,"div",[["class","close-icon"]],null,null,null,null,null)),(n()(),i.rb(3,0,null,null,1,"span",[["gbIcon",""],["iconUrl","close"]],null,[[null,"click"]],(function(n,t,e){var a=!0;return"click"===t&&(a=!1!==n.component.closeAd()&&a),a}),null,null)),i.qb(4,671744,null,0,l.a,[i.k,i.D,o.a,s.a,r.d],{iconUrl:[0,"iconUrl"],size:[1,"size"]},null),(n()(),i.rb(5,0,[["image",1]],null,0,"img",[["alt",""]],[[8,"src",4]],[[null,"click"]],(function(n,t,e){var a=!0;return"click"===t&&(a=!1!==n.component.handleAdLink(n.context.ngIf)&&a),a}),null,null))],(function(n,t){n(t,4,0,"close",9)}),(function(n,t){n(t,5,0,t.context.ngIf.imageUrl)}))}function h(n){return i.Nb(0,[(n()(),i.hb(16777216,null,null,2,null,p)),i.qb(1,16384,null,0,r.k,[i.O,i.L],{ngIf:[0,"ngIf"]},null),i.Fb(131072,r.b,[i.h])],(function(n,t){var e=t.component;n(t,1,0,i.Mb(t,1,0,i.Db(t,2).transform(e.bannerAdObservable)))}),null)}function b(n){return i.Nb(0,[(n()(),i.rb(0,0,null,null,1,"gb-ad-internal-banner",[],null,null,null,h,g)),i.qb(1,114688,null,0,d.a,[c.a,u.a,o.a],null,null)],(function(n,t){n(t,1,0)}),null)}var m=i.nb("gb-ad-internal-banner",d.a,b,{item:"item"},{adLoaded:"adLoaded",adFailed:"adFailed",adClosed:"adClosed"},[])},K1im:function(n,t,e){"use strict";e.d(t,"a",(function(){return l}));var a=e("8Y7J"),i=e("1G5W");class l{constructor(n){this.dfpService=n,this.adLoaded=new a.m,this.adFailed=new a.m,this.adClosed=new a.m,this.bannerId="div-gpt-ad-banner",this.unsubscribe=new a.m}ngAfterViewInit(){this.dfpService.loadDfpSdk(()=>this.loadBanner(),()=>this.adFailed.emit(!0)),this.dfpService.onBannerError.pipe(Object(i.a)(this.unsubscribe)).subscribe(()=>this.adFailed.emit(!0)),this.dfpService.onBannerLoad.pipe(Object(i.a)(this.unsubscribe)).subscribe(()=>this.adLoaded.emit(!0))}ngOnDestroy(){this.unsubscribe.emit(),this.unsubscribe.complete()}loadBanner(){this.item.listPublisherId?this.dfpService.loadBanner(this.item.listPublisherId,this.bannerId):this.adFailed.emit(!0)}closeAd(){this.adClosed.emit()}}},LbKh:function(n,t,e){"use strict";e.d(t,"a",(function(){return a}));class a{}},PkUp:function(n,t,e){"use strict";e.d(t,"a",(function(){return i}));var a=e("8Y7J");class i{constructor(n){this.adsenseService=n,this.adLoaded=new a.m,this.adFailed=new a.m,this.adClosed=new a.m}ngAfterViewInit(){this.adsenseService.loadAdsenseSdk(()=>this.loadBanner(),()=>this.adFailed.emit(!0)),this.subscription=this.adsenseService.onError.subscribe(()=>this.adFailed.emit(!0))}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}loadBanner(){this.item.adClient&&this.item.adSlot?(this.adsenseService.push(),this.adLoaded.emit(!0)):this.adFailed.emit(!0)}closeAd(){this.adClosed.emit()}}},Q7qD:function(n,t,e){"use strict";e.d(t,"a",(function(){return p}));var a=e("IheW"),i=e("LRne"),l=e("tS1D"),o=e("lJxs"),s=e("vkgz"),r=e("pLZG"),d=e("M0ag"),c=e("8Y7J"),u=e("6ojV"),g=e("I2LU");let p=(()=>{class n{constructor(n,t,e){this.http=n,this.settingsManager=t,this.logger=e}fetchAdsSettings(){if(this.internalCampains)return Object(i.a)(this.internalCampains);let t=`${this.settingsManager.getMostAccurateBaseUrl(!0)}/apiv3/getAdSettings`;this.logger.info(`Fetching Languages from ${t}`);let e=new a.i({fromString:"platform=html5"});return this.http.get(t,{params:e}).pipe(Object(l.a)(5e3),Object(o.a)(n=>new d.JsonObject(n)),Object(o.a)(t=>t.getJsonObject(n.CAMPAINS)),Object(s.a)(n=>this.internalCampains=n))}getAdsCampain(n){return this.fetchAdsSettings().pipe(Object(o.a)(t=>t.getJsonObject(n)))}getAdsCampainBanners(t){return this.getAdsCampain(t).pipe(Object(o.a)(t=>t.getArray(n.BANNER)))}getAdsCampainRandomBanner(n){return this.getAdsCampainBanners(n).pipe(Object(r.a)(n=>!!n&&Array.isArray(n)),Object(o.a)(n=>n[Math.floor(Math.random()*n.length)]))}getAdsCampainHomeBanners(t){return this.getAdsCampain(t).pipe(Object(o.a)(t=>t.getArray(n.HOME_BANNER)))}getAdsCampainRandomHomeBanner(n){return this.getAdsCampainHomeBanners(n).pipe(Object(r.a)(n=>!!n&&Array.isArray(n)),Object(o.a)(n=>n[Math.floor(Math.random()*n.length)]))}getAdsCampainHomeRectangles(t){return this.getAdsCampain(t).pipe(Object(o.a)(t=>t.getArray(n.HOME_RECTANGLE)))}getAdsCampainRandomHomeRectangle(n){return this.getAdsCampainHomeRectangles(n).pipe(Object(r.a)(n=>!!n&&Array.isArray(n)),Object(o.a)(n=>n[Math.floor(Math.random()*n.length)]))}pingStatsApi(n){this.http.get(n).pipe(Object(l.a)(5e3)).subscribe()}getAdsCampainInterstitials(t){return this.getAdsCampain(t).pipe(Object(o.a)(t=>t.getArray(n.SPLASH)))}getAdsCampainRandomInterstitial(n){return this.getAdsCampainInterstitials(n).pipe(Object(r.a)(n=>!!n&&Array.isArray(n)),Object(o.a)(n=>n[Math.floor(Math.random()*n.length)]))}}return n.CAMPAINS="campains",n.BANNER="banner",n.HOME_BANNER="homebanner",n.HOME_RECTANGLE="homerectangle",n.SPLASH="splash",n.ngInjectableDef=c.Rb({factory:function(){return new n(c.Sb(a.c),c.Sb(u.a),c.Sb(g.a))},token:n,providedIn:"root"}),n})()},UJwb:function(n,t,e){"use strict";var a=e("41k0"),i=e("8Y7J"),l=e("tyD9"),o=e("b/2F"),s=e("6ojV"),r=e("SVse"),d=e("PkUp"),c=e("J+fH");e.d(t,"a",(function(){return h}));var u=i.pb({encapsulation:0,styles:[a.a,[".ad-banner[_ngcontent-%COMP%]{display:flex;justify-content:center}ins[_ngcontent-%COMP%]{overflow:hidden}@media only screen and (orientation:portrait) and (min-width:1025px),only screen and (orientation:landscape) and (min-width:1280px){ins[_ngcontent-%COMP%]{height:90px;width:728px}}@media only screen and (orientation:portrait) and (min-width:600px) and (max-width:1024px),only screen and (orientation:landscape) and (min-width:960px) and (max-width:1279px){ins[_ngcontent-%COMP%]{height:90px;width:728px}}@media only screen and (orientation:portrait) and (max-width:599px),only screen and (orientation:landscape) and (max-width:959px){ins[_ngcontent-%COMP%]{height:50px;width:320px}}"]],data:{}});function g(n){return i.Nb(0,[(n()(),i.rb(0,0,null,null,5,"div",[["class","ad-container"]],null,null,null,null,null)),(n()(),i.rb(1,0,null,null,4,"div",[["class","ad-banner"]],null,null,null,null,null)),(n()(),i.rb(2,0,null,null,2,"div",[["class","close-icon"]],null,null,null,null,null)),(n()(),i.rb(3,0,null,null,1,"span",[["gbIcon",""],["iconUrl","close"]],null,[[null,"click"]],(function(n,t,e){var a=!0;return"click"===t&&(a=!1!==n.component.closeAd()&&a),a}),null,null)),i.qb(4,671744,null,0,l.a,[i.k,i.D,o.a,s.a,r.d],{iconUrl:[0,"iconUrl"],size:[1,"size"]},null),(n()(),i.rb(5,0,null,null,0,"ins",[["class","adsbygoogle"]],[[1,"data-ad-client",0],[1,"data-ad-slot",0]],null,null,null,null))],(function(n,t){n(t,4,0,"close",9)}),(function(n,t){var e=t.component;n(t,5,0,null==e.item?null:e.item.adClient,null==e.item?null:e.item.adSlot)}))}function p(n){return i.Nb(0,[(n()(),i.rb(0,0,null,null,1,"gb-ad-adsense-banner",[],null,null,null,g,u)),i.qb(1,4374528,null,0,d.a,[c.a],null,null)],null,null)}var h=i.nb("gb-ad-adsense-banner",d.a,p,{item:"item"},{adLoaded:"adLoaded",adFailed:"adFailed",adClosed:"adClosed"},[])},eVm4:function(n,t,e){"use strict";e.d(t,"a",(function(){return d}));var a=e("8Y7J"),i=e("PqYM"),l=e("1G5W"),o=e("vkgz"),s=e("eIep"),r=e("IzEk");class d{constructor(n,t){this.platform=n,this.dfpService=t,this.adLoaded=new a.m,this.adFailed=new a.m,this.adClosed=new a.m,this.bannerId="div-gpt-ad-interstitial",this.unsubscribe=new a.m}ngAfterViewInit(){this.dfpService.loadDfpSdk(()=>this.loadBanner(),()=>this.adFailed.emit(!0)),this.dfpService.onInterstitialError.pipe(Object(l.a)(this.unsubscribe)).subscribe(()=>this.adFailed.emit(!0)),this.dfpService.onInterstitialLoad.pipe(Object(l.a)(this.unsubscribe),Object(o.a)(()=>this.adLoaded.emit(!0)),Object(s.a)(()=>Object(i.a)(15e3).pipe(Object(r.a)(1)))).subscribe(()=>this.closeAd()),this.adFailed.pipe(Object(l.a)(this.unsubscribe)).subscribe(()=>this.closeAd())}ngOnDestroy(){this.unsubscribe.emit(),this.unsubscribe.complete()}loadBanner(){this.item.splashscreenPublisherId?this.dfpService.loadInterstitial(this.item.splashscreenPublisherId,this.bannerId):this.adFailed.emit(!0)}closeAd(){this.adClosed.emit()}}},iGd2:function(n,t,e){"use strict";var a=e("41k0"),i=e("8Y7J"),l=e("SVse"),o=e("tyD9"),s=e("b/2F"),r=e("6ojV"),d=e("K1im"),c=e("omK1");e.d(t,"a",(function(){return h}));var u=i.pb({encapsulation:0,styles:[a.a,[".ad-banner[_ngcontent-%COMP%], .dfp-banner[_ngcontent-%COMP%]{display:flex;justify-content:center}.ad-container[_ngcontent-%COMP%]:not(.show){display:none}@media only screen and (orientation:portrait) and (min-width:1025px),only screen and (orientation:landscape) and (min-width:1280px){.dfp-banner[_ngcontent-%COMP%]{height:90px;width:728px}}@media only screen and (orientation:portrait) and (min-width:600px) and (max-width:1024px),only screen and (orientation:landscape) and (min-width:960px) and (max-width:1279px){.dfp-banner[_ngcontent-%COMP%]{height:90px;width:728px}}@media only screen and (orientation:portrait) and (max-width:599px),only screen and (orientation:landscape) and (max-width:959px){.ad-container[_ngcontent-%COMP%]{height:calc(100vw * (90 / 728) + 0px)}}"]],data:{}});function g(n){return i.Nb(0,[(n()(),i.rb(0,0,null,null,6,"div",[["class","ad-container"]],[[2,"show",null]],null,null,null,null)),i.Fb(131072,l.b,[i.h]),(n()(),i.rb(2,0,null,null,4,"div",[["class","ad-banner"]],null,null,null,null,null)),(n()(),i.rb(3,0,null,null,2,"div",[["class","close-icon"]],null,null,null,null,null)),(n()(),i.rb(4,0,null,null,1,"span",[["gbIcon",""],["iconUrl","close"]],null,[[null,"click"]],(function(n,t,e){var a=!0;return"click"===t&&(a=!1!==n.component.closeAd()&&a),a}),null,null)),i.qb(5,671744,null,0,o.a,[i.k,i.D,s.a,r.a,l.d],{iconUrl:[0,"iconUrl"],size:[1,"size"]},null),(n()(),i.rb(6,0,null,null,0,"div",[["class","dfp-banner"]],[[8,"id",0]],null,null,null,null))],(function(n,t){n(t,5,0,"close",9)}),(function(n,t){var e=t.component;n(t,0,0,i.Mb(t,0,0,i.Db(t,1).transform(e.adLoaded))),n(t,6,0,e.bannerId)}))}function p(n){return i.Nb(0,[(n()(),i.rb(0,0,null,null,1,"gb-ad-dfp-banner",[],null,null,null,g,u)),i.qb(1,4374528,null,0,d.a,[c.a],null,null)],null,null)}var h=i.nb("gb-ad-dfp-banner",d.a,p,{item:"item"},{adLoaded:"adLoaded",adFailed:"adFailed",adClosed:"adClosed"},[])},nred:function(n,t,e){"use strict";e.d(t,"a",(function(){return u}));var a=e("8Y7J"),i=e("l5mm"),l=e("EY2u"),o=e("HDdC"),s=e("JX91"),r=e("eIep"),d=e("JIr8");const c=15e3;class u{constructor(n,t,e){this.internalApiService=n,this.linksManager=t,this.platform=e,this.adLoaded=new a.m,this.adFailed=new a.m,this.adClosed=new a.m}ngOnInit(){this.platform.isBrowser&&this.loadBannerByInterval()}loadBannerByInterval(){this.bannerAdObservable=Object(i.a)(c).pipe(Object(s.a)(0),Object(r.a)(()=>this.internalApiService.getAdsCampainRandomBanner(this.item.idCamp)),Object(r.a)(n=>this.loadBannerImage(n)),Object(d.a)(n=>(this.adFailed.emit(!0),l.a)))}loadBannerImage(n){return new o.a(t=>{const e=new Image,a=e=>{t.next(n),t.complete(),this.adLoaded.emit(!0)},i=n=>{t.error(),this.adFailed.emit(!0)};return e.addEventListener("load",a),e.addEventListener("error",i),e.src=n.imageUrl,()=>{e.removeEventListener("load",a),e.removeEventListener("error",i)}})}handleAdLink(n){const t="internalUrl"in n;t&&n.linkUrl&&this.internalApiService.pingStatsApi(n.linkUrl);const e=t?n.internalUrl:n.linkUrl;e&&this.linksManager.handleLink(e).subscribe()}closeAd(){this.adClosed.emit()}}},omK1:function(n,t,e){"use strict";e.d(t,"a",(function(){return l}));var a=e("8Y7J"),i=e("87fI");let l=(()=>{class n{constructor(n){this.sdkLoader=n,this.onBannerError=new a.m,this.onBannerLoad=new a.m,this.onInterstitialError=new a.m,this.onInterstitialLoad=new a.m,this.onWidgetLoad=new a.m,this.loadedSlots=new Set}loadDfpSdk(n,t){this.sdkLoader.loadDfpSdk(n,t)}loadBanner(n,t){googletag.cmd=googletag.cmd||[],googletag.cmd.push(()=>{if(this.loadedSlots.has(t))return void this.refreshAds();const e=this.getSizeMapping("banner");googletag.defineSlot(n,"fluid",t).defineSizeMapping(e).setCollapseEmptyDiv(!0,!0).addService(googletag.pubads()),googletag.pubads().addEventListener("slotRenderEnded",n=>{n&&n.slot?n.slot.getSlotElementId()===t&&(n.isEmpty?this.onBannerError.emit():this.onBannerLoad.emit(!0)):this.onBannerError.emit()}),googletag.enableServices(),googletag.display(t),this.loadedSlots.add(t)})}loadInterstitial(n,t){googletag.cmd=googletag.cmd||[],googletag.cmd.push(()=>{if(this.loadedSlots.has(t))return void this.refreshAds();const e=this.getSizeMapping("interstitial");googletag.defineSlot(n,"fluid",t).defineSizeMapping(e).setCollapseEmptyDiv(!0,!0).addService(googletag.pubads()),googletag.pubads().addEventListener("slotRenderEnded",n=>{n&&n.slot?n.slot.getSlotElementId()===t&&(n.isEmpty?this.onInterstitialError.emit():this.onInterstitialLoad.emit(!0)):this.onInterstitialError.emit()}),googletag.enableServices(),googletag.display(t),this.loadedSlots.add(t)})}loadWidget(n,t,e){googletag.cmd=googletag.cmd||[],googletag.cmd.push(()=>{if(this.loadedSlots.has(t))return void this.refreshAds();const a=this.getSizeMapping(e);googletag.defineSlot(n,"fluid",t).defineSizeMapping(a).setCollapseEmptyDiv(!0,!0).addService(googletag.pubads()),googletag.pubads().addEventListener("slotRenderEnded",n=>{n&&n.slot?n.slot.getSlotElementId()===t&&!n.isEmpty&&this.onWidgetLoad.emit(!0):this.onBannerError.emit()}),googletag.enableServices(),googletag.display(t),this.loadedSlots.add(t)})}refreshAds(){googletag.pubads().refresh()}getSizeMapping(n){let t;switch(n){case"banner":t=googletag.sizeMapping().addSize([736,736],[728,90]).addSize([0,0],[320,50]).build();break;case"interstitial":t=googletag.sizeMapping().addSize([480,320],[480,320]).addSize([0,0],[[300,250],[336,280]]).build();break;case"rectangle":t=googletag.sizeMapping().addSize([0,0],[336,280]).build()}return t}}return n.ngInjectableDef=a.Rb({factory:function(){return new n(a.Sb(i.a))},token:n,providedIn:"root"}),n})()},qTIh:function(n,t,e){"use strict";e.d(t,"a",(function(){return m}));var a=e("4f9x"),i=e("8Y7J"),l=e("tyD9"),o=e("b/2F"),s=e("6ojV"),r=e("SVse"),d=e("+XyI"),c=e("Q7qD"),u=e("XJsk"),g=i.pb({encapsulation:0,styles:[a.a],data:{}});function p(n){return i.Nb(0,[(n()(),i.rb(0,0,null,null,5,"div",[["class","interstitial"]],null,null,null,null,null)),(n()(),i.rb(1,0,null,null,4,"div",[["class","ad-container"]],null,null,null,null,null)),(n()(),i.rb(2,0,null,null,2,"div",[["class","close-icon"]],null,null,null,null,null)),(n()(),i.rb(3,0,null,null,1,"span",[["gbIcon",""],["iconUrl","close"]],null,[[null,"click"]],(function(n,t,e){var a=!0;return"click"===t&&(a=!1!==n.component.closeAd()&&a),a}),null,null)),i.qb(4,671744,null,0,l.a,[i.k,i.D,o.a,s.a,r.d],{iconUrl:[0,"iconUrl"],size:[1,"size"]},null),(n()(),i.rb(5,0,null,null,0,"img",[["alt",""]],[[8,"src",4]],[[null,"click"]],(function(n,t,e){var a=!0;return"click"===t&&(a=!1!==n.component.handleAdLink(n.context.ngIf)&&a),a}),null,null))],(function(n,t){n(t,4,0,"close",t.component.platform.isMobileSize()?12:16)}),(function(n,t){n(t,5,0,t.context.ngIf.imageUrl)}))}function h(n){return i.Nb(0,[(n()(),i.hb(16777216,null,null,2,null,p)),i.qb(1,16384,null,0,r.k,[i.O,i.L],{ngIf:[0,"ngIf"]},null),i.Fb(131072,r.b,[i.h])],(function(n,t){var e=t.component;n(t,1,0,i.Mb(t,1,0,i.Db(t,2).transform(e.interstitialAdObservable)))}),null)}function b(n){return i.Nb(0,[(n()(),i.rb(0,0,null,null,1,"ng-component",[],null,null,null,h,g)),i.qb(1,114688,null,0,d.a,[o.a,c.a,u.a],null,null)],(function(n,t){n(t,1,0)}),null)}var m=i.nb("ng-component",d.a,b,{item:"item"},{adLoaded:"adLoaded",adFailed:"adFailed",adClosed:"adClosed"},[])}}]);